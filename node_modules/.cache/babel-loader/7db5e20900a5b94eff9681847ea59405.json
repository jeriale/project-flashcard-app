{"ast":null,"code":"import _objectSpread from\"/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import{listCards}from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Study(_ref){var name=_ref.name;var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),cardData=_useState4[0],setCardData=_useState4[1];useEffect(function(){function getCards(){return _getCards.apply(this,arguments);}function _getCards(){_getCards=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return listCards(deckId);case 3:response=_context.sent;if(response.length>3){setCards(response);setCardData({validDeck:true,isFlipped:false,front:response[0].front,back:response[0].back,progress:0});}else if(response.length<3){setCards(response);setCardData({validDeck:false});}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getCards.apply(this,arguments);}getCards();},[deckId]);var handleNextCard=function handleNextCard(){if(cards.length===cardData.progress){if(window.confirm(\"Do you want to restart this deck?\")){setCardData({validDeck:true,isFlipped:false,front:cards[0].front,back:cards[0].back,progress:0});}else{history.push(\"/\");}}else{var nextCard=cards.find(function(ignore,index){return index===cardData.progress;});setCardData({validDeck:true,isFlipped:false,front:nextCard.front,back:nextCard.back,progress:cardData.progress+1});}};var flipCurrentCard=function flipCurrentCard(){setCardData(_objectSpread(_objectSpread({},cardData),{},{isFlipped:!cardData.isFlipped}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-home\"}),\" Home\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/decks/\".concat(deckId),children:name})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item text-secondary\",children:\"Study\"})]})}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Study: \",name]}),!cardData.validDeck?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"alert-heading\",children:\"Not enough cards...\"}),\"There needs to be at least 3 cards in a deck in order to study. There are \",cards.length,\" cards in this deck.\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-plus\"}),\" Add Cards\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"p-3 mb-2 bg-dark text-white font-weight-bold\",children:[\"Card \",cardData.progress+1,\" of \",cards.length+1]}),!cardData.isFlipped?/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mt-4 mb-5 display-5\",children:cardData.front}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-1\",onClick:flipCurrentCard,children:\"Flip\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary disabled\",onClick:handleNextCard,children:\"Next\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mt-4 mb-5 display-5\",children:cardData.back}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-1\",onClick:flipCurrentCard,children:\"Flip\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleNextCard,children:\"Next\"})]})]})]});}export default Study;","map":{"version":3,"sources":["/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/src/Components/Study.js"],"names":["React","useEffect","useState","useParams","useHistory","listCards","Study","name","deckId","history","cards","setCards","cardData","setCardData","getCards","response","length","validDeck","isFlipped","front","back","progress","console","log","handleNextCard","window","confirm","push","nextCard","find","ignore","index","flipCurrentCard"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { listCards } from \"../utils/api\"\n\nfunction Study({ name }) {\n\n  const { deckId } = useParams();\n  const history = useHistory();\n\n  const [cards, setCards] = useState([]);\n  const [cardData, setCardData] = useState({});\n\n  useEffect(() => {\n    async function getCards() {\n      try {\n        const response = await listCards(deckId);\n        if (response.length > 3) {\n          setCards(response);\n          setCardData({\n            validDeck: true,\n            isFlipped: false,\n            front: response[0].front,\n            back: response[0].back,\n            progress: 0\n          });\n        } else if (response.length < 3) {\n          setCards(response);\n          setCardData({\n            validDeck: false\n          })\n        }\n      } catch (error) {\n          console.log(error);\n      }\n    }\n    getCards();\n\n  }, [deckId]);\n\n  const handleNextCard = () => {\n    if (cards.length === cardData.progress) {\n      if (window.confirm(\"Do you want to restart this deck?\")) {\n        setCardData({\n          validDeck: true,\n          isFlipped: false,\n          front: cards[0].front,\n          back: cards[0].back,\n          progress: 0\n        });\n      } else {\n        history.push(\"/\");\n      }\n    } else {\n      const nextCard = cards.find((ignore, index) => index === cardData.progress)\n      setCardData({\n        validDeck: true,\n        isFlipped: false,\n        front: nextCard.front,\n        back: nextCard.back,\n        progress: cardData.progress + 1\n      });\n    }\n  }\n\n  const flipCurrentCard = () => {\n    setCardData({\n      ...cardData,\n      isFlipped: !cardData.isFlipped\n    });\n  }\n\n  return (\n    <>\n      <nav aria-label=\"breadcrumb\">\n        <ol className=\"breadcrumb\">\n            <li className=\"breadcrumb-item\"><a href=\"/\"><span className=\"oi oi-home\"></span> Home</a></li>\n            <li className=\"breadcrumb-item\"><a href={`/decks/${deckId}`}>{name}</a></li>\n            <li className=\"breadcrumb-item text-secondary\">Study</li>\n        </ol>\n      </nav>\n      <h2>Study: {name}</h2>\n      {!cardData.validDeck ? (\n        <>\n          <div className=\"alert alert-danger\" role=\"alert\">\n            <h3 className=\"alert-heading\">Not enough cards...</h3>\n            There needs to be at least 3 cards in a deck in order to study. There are {cards.length} cards in this deck.\n          </div>\n          <button className=\"btn btn-primary\"><span className=\"oi oi-plus\"></span> Add Cards</button>\n        </>\n      ) : (\n        <div className=\"card mb-2\">\n          <span className=\"p-3 mb-2 bg-dark text-white font-weight-bold\">Card {cardData.progress + 1} of {cards.length + 1}</span>\n          {!cardData.isFlipped ? (\n            <div className=\"card-body text-center\">\n              <h4 className=\"mt-4 mb-5 display-5\">{cardData.front}</h4>\n              <button className=\"btn btn-secondary mr-1\" onClick={flipCurrentCard}>Flip</button>\n              <button className=\"btn btn-primary disabled\" onClick={handleNextCard}>Next</button>\n            </div>\n          ) : (\n            <div className=\"card-body text-center\">\n              <h4 className=\"mt-4 mb-5 display-5\">{cardData.back}</h4>\n              <button className=\"btn btn-secondary mr-1\" onClick={flipCurrentCard}>Flip</button>\n              <button className=\"btn btn-primary\" onClick={handleNextCard}>Next</button>\n            </div>\n          )}\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default Study;"]},"metadata":{},"sourceType":"module"}