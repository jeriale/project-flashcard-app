{"ast":null,"code":"import _regeneratorRuntime from\"/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import{readDeck,updateDeck}from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CreateDeck(){var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];useEffect(function(){function getDeck(){return _getDeck.apply(this,arguments);}function _getDeck(){_getDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId);case 3:response=_context.sent;setDeck(response);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getDeck.apply(this,arguments);}getDeck();},[deckId]);var handleDeckUpdate=function handleDeckUpdate(){var formData=new FormData(document.querySelector(\"form\"));var update={name:formData.get(\"name\"),description:formData.get(\"description\"),id:deckId};updateDeck(update);history.push(\"/decks/\".concat(deckId));window.location.reload(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"oi oi-home\"}),\" Home\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item text-secondary\",children:\"Edit Deck\"})]})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Deck\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDeckUpdate,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"deckName\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"deckName\",name:\"name\",placeholder:deck.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"deckDescription\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"deckDescription\",name:\"description\",placeholder:deck.description})]}),/*#__PURE__*/_jsx(\"a\",{href:\"/decks/\".concat(deckId),className:\"btn btn-secondary mr-1\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});}export default CreateDeck;","map":{"version":3,"sources":["/home/jon/qualified-challenges/Project_Flashcards_Qualified_1/src/Components/EditDeck.js"],"names":["React","useState","useEffect","useParams","useHistory","readDeck","updateDeck","CreateDeck","deckId","history","deck","setDeck","getDeck","response","console","log","handleDeckUpdate","formData","FormData","document","querySelector","update","name","get","description","id","push","window","location","reload"],"mappings":"yhBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,kBAAtC,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,cAArC,C,6IAGA,QAASC,CAAAA,UAAT,EAAsB,gBACCJ,SAAS,EADV,CACVK,MADU,YACVA,MADU,CAElB,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CAFkB,cAGMH,QAAQ,CAAC,EAAD,CAHd,wCAGXS,IAHW,eAGLC,OAHK,eAKlBT,SAAS,CAAC,UAAM,SACGU,CAAAA,OADH,+HACZ,sLAE2BP,CAAAA,QAAQ,CAACG,MAAD,CAFnC,QAEUK,QAFV,eAGIF,OAAO,CAACE,QAAD,CAAP,CAHJ,+EAKIC,OAAO,CAACC,GAAR,cALJ,oEADY,0CASZH,OAAO,GACR,CAVM,CAUJ,CAACJ,MAAD,CAVI,CAAT,CAYE,GAAMQ,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,CAAaC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb,CAAjB,CACA,GAAMC,CAAAA,MAAM,CAAG,CACXC,IAAI,CAAEL,QAAQ,CAACM,GAAT,CAAa,MAAb,CADK,CAEXC,WAAW,CAAEP,QAAQ,CAACM,GAAT,CAAa,aAAb,CAFF,CAGXE,EAAE,CAAEjB,MAHO,CAAf,CAKAF,UAAU,CAACe,MAAD,CAAV,CACAZ,OAAO,CAACiB,IAAR,kBAAuBlB,MAAvB,GACAmB,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EACD,CAVD,CAYF,mBACI,wCACI,YAAK,aAAW,YAAhB,uBACI,YAAI,SAAS,CAAC,YAAd,wBACI,WAAI,SAAS,CAAC,iBAAd,uBAAgC,WAAG,IAAI,CAAC,GAAR,wBAAY,aAAM,SAAS,CAAC,YAAhB,EAAZ,WAAhC,EADJ,cAEI,WAAI,SAAS,CAAC,gCAAd,uBAFJ,GADJ,EADJ,cAOI,iCAPJ,cAQI,cAAM,QAAQ,CAAEb,gBAAhB,wBACI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,UAAf,kBADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,UAA/C,CAA0D,IAAI,CAAC,MAA/D,CAAsE,WAAW,CAAEN,IAAI,CAACY,IAAxF,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,YAAf,wBACI,cAAO,OAAO,CAAC,iBAAf,yBADJ,cAEI,iBAAU,SAAS,CAAC,cAApB,CAAmC,EAAE,CAAC,iBAAtC,CAAwD,IAAI,CAAC,aAA7D,CAA2E,WAAW,CAAEZ,IAAI,CAACc,WAA7F,EAFJ,GALJ,cASI,UAAG,IAAI,kBAAYhB,MAAZ,CAAP,CAA6B,SAAS,CAAC,wBAAvC,oBATJ,cAUI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,oBAVJ,GARJ,GADJ,CAuBH,CAED,cAAeD,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { readDeck, updateDeck } from \"../utils/api\";\n\n\nfunction CreateDeck() {\n    const { deckId } = useParams();\n    const history = useHistory();\n    const [deck, setDeck] = useState({});\n\n    useEffect(() => {\n        async function getDeck() {\n          try {\n            const response = await readDeck(deckId);\n            setDeck(response);\n          } catch (error) {\n            console.log(error);\n          }\n        }\n        getDeck();\n      }, [deckId]);\n\n      const handleDeckUpdate = () => {\n        const formData = new FormData(document.querySelector(\"form\"));\n        const update = {\n            name: formData.get(\"name\"),\n            description: formData.get(\"description\"),\n            id: deckId\n        }\n        updateDeck(update);\n        history.push(`/decks/${deckId}`);\n        window.location.reload(true);\n      }\n\n    return (\n        <>\n            <nav aria-label=\"breadcrumb\">\n                <ol className=\"breadcrumb\">\n                    <li className=\"breadcrumb-item\"><a href=\"/\"><span className=\"oi oi-home\"></span> Home</a></li>\n                    <li className=\"breadcrumb-item text-secondary\">Edit Deck</li>\n                </ol>\n            </nav>\n            <h2>Edit Deck</h2>\n            <form onSubmit={handleDeckUpdate}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"deckName\">Name</label>\n                    <input type=\"text\" className=\"form-control\" id=\"deckName\" name=\"name\" placeholder={deck.name} />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"deckDescription\">Description</label>\n                    <textarea className=\"form-control\" id=\"deckDescription\" name=\"description\" placeholder={deck.description} />\n                </div>\n                <a href={`/decks/${deckId}`} className=\"btn btn-secondary mr-1\">Cancel</a>\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </form>\n        </>\n    );\n}\n\nexport default CreateDeck;"]},"metadata":{},"sourceType":"module"}